NULL=

AM_CPPFLAGS = \
	-I$(srcdir) \
	-I$(srcdir)../ \
	-I$(srcdir)/../base \
	-I$(srcdir)/../actions \
	-I$(srcdir)/../job \
	-DPACKAGE_DATA_DIR=\""$(datadir)/libsmfm"\" \
	-DPACKAGE_LIB_DIR=\""$(libdir)/libsmfm"\" \
	-DPACKAGE_LOCALE_DIR=\""$(prefix)/$(DATADIRNAME)/locale"\" \
	-Wno-unused-but-set-variable -Wno-unused-variable \
	$(NULL)

noinst_LTLIBRARIES = libsmfmactions.la

libsmfmactions_la_SOURCES = \
	action.vala \
	condition.vala \
	profile.vala \
	parameters.vala \
	utils.vala \
	$(NULL)

libsmfmactions_la_CFLAGS = \
	$(GIO_CFLAGS) \
	-Werror-implicit-function-declaration \
	$(NULL)

AM_VALAFLAGS = \
	--thread \
	--vapidir=$(srcdir)/../vapi \
	--pkg gio-2.0 \
    --pkg posix \
    --pkg libsmfm \
    --vapi $(srcdir)/../vapi/fm-actions.vapi \
    --header fm-actions.h \
	$(NULL)

libsmfmactionsincludedir = $(includedir)/@PACKAGE@-@FMLIBVER@
libsmfmactionsinclude_HEADERS = \
	fm-actions.h \
	$(NULL)

libsmfmactions_la_LDFLAGS = \
	$(NULL)

libsmfmactions_la_LIBADD = \
	$(GIO_LIBS) \
	$(INTLLIBS) \
	$(NULL)

fm-actions.h: libsmfmactions_la_vala.stamp
